const terminal = {};

terminal.style = {
	bold:1,
	italic:3,
	blink:5,
};
terminal.color = {
	grey:2,
	black:30,
	red:31,
	green:32,
	yellow:33,
	blue:34,
	purple:35,
	cyan:36,
	lightGrey:37
};

terminal.color_flash = {
	grey:90,
	red:91,
	green:92,
	yellow:93,
	blue:94,
	purple:95,
	cyan:96,
	white:97,//not sure
};


terminal.background = {
	white:7,
	black:8, // a tester
	red:41,
	green:42,
	yellow:43,
	blue:44,
	purple:45,
	cyan:46,
	grey:47,
};

terminal.background_flash = {
	grey:100,
	red:101,
	green:102,
	yellow:103,
	blue:104,
	purple:105,
	cyan:106,
	white:107
};
terminal.line = {
	below:4,
	crossed:9,
	double:21,
	above:53,
};


const escape = code => code || code === 0 ? `\x1b[${code}m` : '';

terminal.escape = (str, ...codes) => codes.map(escape).join('') + str + escape(0);

module.exports = terminal;

function terminalTester() {

	const styles = Object.keys(terminal.style);
	styles.push(false);
	styles.forEach(style => {

		['color', 'color_flash'].forEach(color_type => {

			const colors = Object.keys(terminal[color_type]);
			colors.push(false);
			colors.forEach(color => {

				['background', 'background_flash'].forEach(bg_type => {

					const bgs = Object.keys(terminal[bg_type]);
					bgs.push(false);
					bgs.forEach(bg => {

						const lines = Object.keys(terminal.line);
						lines.push(false);
						lines.forEach(line => {
							const descr = `style=${style}:${color_type}=${color}:${bg_type}=${bg}:line=${line}`;
							const msg = terminal.escape('Hello World !!', terminal.style[style], terminal[color_type][color], terminal[bg_type][bg], terminal.line[line]);
							console.log(`${descr} "${msg}"`);
						});
					});

				});
			});
		});
	});
}

// terminalTester();

// const descr = `style=${style}:${color_type}=${color}:${bg_type}=${bg}:line=${line}`;
// const msg = terminal.escape('Hello World !!', style, color, bg, line);
// console.log(`"${msg}"`);
